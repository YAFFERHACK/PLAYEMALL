(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,t,a){},30:function(e,t,a){e.exports=a(98)},36:function(e,t,a){},38:function(e,t,a){},60:function(e,t,a){},62:function(e,t,a){},67:function(e,t,a){},69:function(e,t,a){},71:function(e,t,a){},74:function(e,t,a){},76:function(e,t,a){},78:function(e,t,a){},81:function(e,t,a){},83:function(e,t,a){},86:function(e,t,a){},89:function(e,t,a){},91:function(e,t,a){},93:function(e,t,a){},98:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(29),r=a.n(o),c=(a(36),a(7)),s=a(2),i=a(3),m=a(5),u=a(4),p=a(6),d=(a(38),a(103)),h=a(102),g=a(10),f=a.n(g);a(16).config();var E=function e(){var t=this;Object(s.a)(this,e),this.signup=function(e,a,n,l){var o=new FormData,r={username:e,password:a,city:n,photo:l};return Object.keys(r).forEach(function(e){return o.append(e,r[e])}),console.log(o),t.service.post("/signup",o,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){console.log("entra por el then"),console.log(e.data)}).catch(function(e){console.log("entra por el catch")})},this.loggedin=function(){return t.service.get("/loggedin").then(function(e){return e.data}).catch(function(e){})},this.login=function(e,a){return t.service.post("/login",{username:e,password:a}).then(function(e){return console.log(e.data),e.data}).catch(function(e){console.log(e.response.data.message)})},this.logout=function(){return t.service.get("/logout").then(function(e){return e.data}).catch(function(e){console.log(e.response.data.message)})},this.edit=function(e,a,n,l){var o=new FormData,r={username:e,password:a,city:n,photo:l};return Object.keys(r).forEach(function(e){return o.append(e,r[e])}),console.log(o),t.service.post("/edit",o,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){console.log(e.data),console.log("entra el edit")}).catch(function(e){console.log(e),console.log("entra por el edit del catch jandlemore")})};var a=f.a.create({baseURL:"".concat("https://playemall.herokuapp.com/api","/auth"),withCredentials:!0});this.service=a},b=(a(60),function(e){function t(e){return Object(s.a)(this,t),Object(m.a)(this,Object(u.a)(t).call(this,e))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e="";return e=null!==this.props.user&&void 0!==this.props.user?l.a.createElement("a",{className:"navbar-item userNav",href:"/profile"},l.a.createElement("img",{className:"userNavImg",alt:"",src:this.props.user.profileImg}),l.a.createElement("p",{className:"userNavName"},this.props.user.username)):"",l.a.createElement("div",null,l.a.createElement("div",{className:"Nav"},l.a.createElement("nav",{className:"navbar is-dark"},l.a.createElement("div",{className:"navbar-brand"},l.a.createElement("a",{className:"navbar-item navLogo",href:"https://i.imgur.com/ANsUGQw.gif",target:"_blank",rel:""}," ",l.a.createElement("img",{src:"https://okapy.es/image/cache/catalog/customer_designs/33-90ccb12f14fe5363fd0d270ebddec5ce-228x228.png",alt:"",width:"30",height:"28"})),l.a.createElement("div",{className:"navbar-burger burger","data-target":"navbarExampleTransparentExample"},l.a.createElement("span",null),l.a.createElement("span",null),l.a.createElement("span",null))),l.a.createElement("div",{id:"navbarExampleTransparentExample",className:"navbar-menu"},l.a.createElement("div",{className:"navbar-start"},l.a.createElement("a",{className:"navbar-item",href:"/"},"Play Em All"),l.a.createElement("a",{className:"navbar-item",href:"/dashboard"},"Dashboard"),l.a.createElement("a",{className:"navbar-item",href:"/gamesearch"},"Games"),l.a.createElement("a",{className:"navbar-item",href:"/mustplay"},"Must Play"))),l.a.createElement("div",{className:"navbar-end"},l.a.createElement("div",{className:"navbar-item"},l.a.createElement("div",{className:"field is-grouped"},e,l.a.createElement("p",{className:"control"},e?l.a.createElement("a",{href:"/logout"},l.a.createElement("button",{className:"button is-info separation2",onClick:this.props.logout},"Logout")):l.a.createElement("div",null,l.a.createElement("a",{className:"loginBtns",href:"/login"},l.a.createElement("button",{className:"button is-primary separation"},"Login")),l.a.createElement("a",{href:"/signup"},l.a.createElement("button",{className:"button is-info separation2",onClick:this.Getloggout},"Signup")))),l.a.createElement("p",{className:"control"})))))))}}]),t}(n.Component)),v=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return console.log(this.props.user),l.a.createElement("div",null)}}]),t}(n.Component),N=a(9),j=a(100),O=a(99),C=(a(62),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.username,n=a.state.password;a.service.login(t,n).then(function(e){a.setState({username:"",password:"",redirect:!0}),a.props.getUser(e)}).catch(function(e){return console.log(e)})},a.handleChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(N.a)({},n,l))},a.state={username:"",password:"",redirect:!1},a.service=new E,a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return this.state&&this.state.redirect?l.a.createElement(j.a,{to:"/profile"}):l.a.createElement("div",null,l.a.createElement("form",{className:"login-container",onSubmit:this.handleFormSubmit},l.a.createElement("label",{className:"mb3"},"Username"),l.a.createElement("input",{className:"mb3",type:"text",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)}}),l.a.createElement("label",{className:"mb3"},"Password"),l.a.createElement("input",{className:"mb3",type:"password",name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}}),l.a.createElement("input",{className:"login button is-link mb3",type:"submit",value:"Login"})),l.a.createElement("p",{className:"mb3 lastLogin"},"Don't have an account?",l.a.createElement(O.a,{to:"/signup"}," Signup")))}}]),t}(n.Component)),y=(a(67),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.username,n=a.state.password,l=a.state.city,o=a.state.photo;console.log(o),a.service.signup(t,n,l,o).then(function(e){a.setState(Object(c.a)({},a.state,{username:"",password:"",city:"",photo:"",redirect:!0})),a.props.getUser(e)}).catch(function(e){return console.log(e)})},a.handleChange=function(e){var t=e.target,n=t.name,l=t.value;"photo"===n?a.setState(Object(c.a)({},a.state,{photo:e.target.files[0]})):a.setState(Object(c.a)({},a.state,Object(N.a)({},n,l)))},a.state={username:"",password:"",city:"",photo:"",redirect:!1},a.service=new E,a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return this.state&&this.state.redirect?l.a.createElement(j.a,{to:"/"}):l.a.createElement("div",null,l.a.createElement("form",{className:"signup-container",onSubmit:this.handleFormSubmit},l.a.createElement("label",{className:"mb3"},"Username"),l.a.createElement("input",{className:"mb3",type:"text",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)}}),l.a.createElement("label",{className:"mb3"},"Password"),l.a.createElement("input",{className:"mb3",type:"password",name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}}),l.a.createElement("label",{className:"mb3"},"City"),l.a.createElement("select",{className:"mb3",name:"city",value:this.state.city,onChange:function(t){return e.handleChange(t)}},l.a.createElement("option",null,"A Coru\xf1a"),l.a.createElement("option",null,"Alava"),l.a.createElement("option",null,"Albacete"),l.a.createElement("option",null,"Alicante"),l.a.createElement("option",null,"Almer\xeda"),l.a.createElement("option",null,"Asturias"),l.a.createElement("option",null,"Avila"),l.a.createElement("option",null,"Badajoz"),l.a.createElement("option",null,"Barcelona"),l.a.createElement("option",null,"Burgos"),l.a.createElement("option",null,"C\xe1ceres"),l.a.createElement("option",null,"C\xe1diz"),l.a.createElement("option",null,"Cantabria"),l.a.createElement("option",null,"Castell\xf3n"),l.a.createElement("option",null,"Ceuta"),l.a.createElement("option",null,"Ciudad Real"),l.a.createElement("option",null,"C\xf3rdoba"),l.a.createElement("option",null,"Cuenca"),l.a.createElement("option",null,"Formentera"),l.a.createElement("option",null,"Girona"),l.a.createElement("option",null,"Granada"),l.a.createElement("option",null,"Guadalajara"),l.a.createElement("option",null,"Guipuzcoa"),l.a.createElement("option",null,"Huelva"),l.a.createElement("option",null,"Huesca"),l.a.createElement("option",null,"Ibiza"),l.a.createElement("option",null,"Ja\xe9n"),l.a.createElement("option",null,"La Rioja"),l.a.createElement("option",null,"Las Palmas de Gran Canaria"),l.a.createElement("option",null,"Le\xf3n"),l.a.createElement("option",null,"L\xe9rida"),l.a.createElement("option",null,"Lugo"),l.a.createElement("option",null,"Madrid"),l.a.createElement("option",null,"M\xe1laga"),l.a.createElement("option",null,"Mallorca"),l.a.createElement("option",null,"Menorca"),l.a.createElement("option",null,"Murcia"),l.a.createElement("option",null,"Navarra"),l.a.createElement("option",null,"Orense"),l.a.createElement("option",null,"Palencia"),l.a.createElement("option",null,"Pontevedra"),l.a.createElement("option",null,"Salamanca"),l.a.createElement("option",null,"Santa Cruz de Tenerife"),l.a.createElement("option",null,"Segovia"),l.a.createElement("option",null,"Sevilla"),l.a.createElement("option",null,"Soria"),l.a.createElement("option",null,"Tarragona"),l.a.createElement("option",null,"Teruel"),l.a.createElement("option",null,"Toledo"),l.a.createElement("option",null,"Valencia"),l.a.createElement("option",null,"Valladolid"),l.a.createElement("option",null,"Vizcaya"),l.a.createElement("option",null,"Zamora"),l.a.createElement("option",null,"Zaragoza")),l.a.createElement("input",{className:"mb3",type:"file",name:"photo",onChange:function(t){return e.handleChange(t)}})," ",l.a.createElement("br",null),l.a.createElement("input",{className:"submit button is-link",type:"submit",value:"Signup"})),l.a.createElement("p",{className:"mb3 lastSign"}," Already have account?",l.a.createElement(O.a,{to:"/login"}," Login")))}}]),t}(n.Component)),w=a(19);a(69);a(16).config();var I=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(c.a)({},a.state,Object(N.a)({},n,l)))},a.findHandler=function(){f.a.get("".concat("https://playemall.herokuapp.com/api","/dbroutes/gamesearch/").concat(a.state.searchField)).then(function(e){console.log("findHandler axios then"),a.setState(Object(c.a)({},a.state,{games:Object(w.a)(e.data),deployed:!0}),function(){console.log(this.state.games)})}).catch(function(e){console.log("findHandler axios catch"),console.log(e)})},a.addGameLocalHandler=function(e,t){a.props.addGameHandler(e,t)},a.state={searchField:"",games:[],deployed:!1},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=[];this.state.games!==[]&&(t=this.state.games.map(function(t){return l.a.createElement("div",null,l.a.createElement("h4",null,t.name),l.a.createElement("button",{onClick:function(){e.addGameLocalHandler(e.props.collection._id,t)}},"AddGame"))}));var a="dropdown";return this.state.deployed&&(a="dropdown is-active"),l.a.createElement("div",{className:"gamefinder-container"},l.a.createElement("input",{className:"mr3",type:"text",name:"searchField",id:"searchField",onChange:function(t){e.handleChange(t)}}),l.a.createElement("button",{className:"button is-link mr3",onClick:function(){return e.findHandler()}},"Find!"),l.a.createElement("div",{onClick:function(){e.setState(Object(c.a)({},e.state,{deployed:!e.state.deployed}))},className:a},l.a.createElement("div",{className:"dropdown is-right"},l.a.createElement("div",{className:"dropdown-trigger"},l.a.createElement("button",{className:"button","aria-haspopup":"true","aria-controls":"dropdown-menu2"},l.a.createElement("span",null,"Results"),l.a.createElement("span",{className:"icon is-small"},l.a.createElement("i",{className:"fas fa-angle-down","aria-hidden":"true"})))),l.a.createElement("div",{className:"dropdown-menu",id:"dropdown-menu2",role:"menu"},l.a.createElement("div",{className:"dropdown-content"},t)))))}}]),t}(l.a.Component);a(16).config();var S=function e(){var t=this;Object(s.a)(this,e),this.signup=function(e,a,n,l){var o=new FormData,r={username:e,password:a,city:n,photo:l};return Object.keys(r).forEach(function(e){return o.append(e,r[e])}),console.log(o),t.service.post("/signup",o,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){console.log("entra por el then"),console.log(e.data)}).catch(function(e){console.log("entra por el catch"),console.log(e.response.data.message,"<---")})},this.newCollection=function(e){var a={name:e};return console.log(a),t.service.post("/newcoll",a).then(function(e){return console.log(e.data),e.data}).catch(function(e){console.log(e)})},this.userCollections=function(){return t.service.get("/user-collections").then(function(e){return e.data}).catch(function(e){console.log(e)})},this.removeCollection=function(e){var a={id:e};return t.service.post("/removecoll",a).then(function(e){return console.log("collection successfully removed"),e.data}).catch(function(e){console.log("collection removal failed"),console.log(e)})},this.removeGame=function(e,a){var n={collectionId:e,gameId:a};return t.service.post("/removefromcoll",n).then(function(e){return console.log("game successfully removed"),e.data}).catch(function(e){console.log("game removal failed"),console.log(e)})},this.addGame=function(e,a){var n={collectionId:e,game:a};return t.service.post("/addgame",n).then(function(e){return e.data}).catch(function(e){console.log("game addition failed"),console.log(e)})},this.mustPlay=function(e){return t.service.post("/mustplay",{fields:e}).then(function(t){return console.log(e),console.log("entra al then"),console.log(t.data),t.data}).catch(function(t){console.log(e),console.log("entra al catch"),console.log(t)})};var a=f.a.create({baseURL:"".concat("https://playemall.herokuapp.com/api","/dbroutes"),withCredentials:!0});this.service=a},k=(a(71),function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).state={deployed:!1},e}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t="dropdown";this.state.deployed&&(t="dropdown is-active");var a="Remove Collection";return this.state.deployed&&(a="Cancel Removal"),l.a.createElement("div",{onClick:function(){e.setState(Object(c.a)({},e.state,{deployed:!e.state.deployed}))},className:t},l.a.createElement("div",{className:"dropdown is-up"},l.a.createElement("div",{className:"dropdown-trigger"},l.a.createElement("button",{className:"button removeColl","aria-haspopup":"true","aria-controls":"dropdown-menu2"},l.a.createElement("span",null,a))),l.a.createElement("div",{className:"dropdown-menu",id:"dropdown-menu2",role:"menu"},l.a.createElement("div",{className:"dropdown-content"},l.a.createElement("button",{className:"button is-warning",value:this.props.value,onClick:function(t){e.props.deleteCollection(t)}},"Yes, Remove it!")))))}}]),t}(n.Component)),G=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).handleChange=function(t){var a=t.target,n=a.name,l=a.value;e.setState(Object(c.a)({},e.state,Object(N.a)({},n,l)))},e.createCollection=function(){var t=e.state.collName;console.log(t),e.service.newCollection(t).then(function(){return e.getCollectionData()}).then(function(){e.setState(Object(c.a)({},e.state,{collName:""}),function(){console.log(this.state.collName)})}).catch(function(e){console.log(e)})},e.deleteCollection=function(t){var a=t.target.value;console.log(t.target),console.log(e.state.collections);var n=e.state.collections[a]._id;e.service.removeCollection(n).then(function(){return e.getCollectionData()}).catch(function(e){console.log(e)})},e.getCollectionData=function(){e.service.userCollections().then(function(t){e.props.user&&(console.log(t),e.setState(Object(c.a)({},e.state,{collections:t.collections})))})},e.gameRemoveHandler=function(t,a){e.service.removeGame(t,a).then(function(e){return e}).then(function(){return e.getCollectionData()}).catch(function(e){console.log(e)})},e.addGameHandler=function(t,a){e.service.addGame(t,a).then(function(e){return console.log(e),e}).then(function(){return e.getCollectionData()}).catch(function(e){console.log(e)})},e.state={collName:"",collections:null,deployed:!1},e.collectionList=null,e.service=new S,e}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getCollectionData()}},{key:"render",value:function(){var e=this;return this.state.deployed&&"dropdown is-active",null!==this.state.collections&&void 0!==this.state.collections&&(this.collectionList=this.state.collections.map(function(t,a){var n=t.games.map(function(a,n){var o=a._id,r=t._id;return l.a.createElement("div",{className:"game-container",key:n},l.a.createElement(O.a,{to:"/gameinfo/".concat(a.idIgdb)},l.a.createElement("h3",null,a.name)),l.a.createElement("button",{className:"button is-danger is-rounded rmv",onClick:function(){return e.gameRemoveHandler(r,o)}},"-"))});return l.a.createElement("div",{className:"collection-container",key:a},l.a.createElement("div",{className:"collection-header"},l.a.createElement("h1",{className:"collection-title mr3"},t.name),l.a.createElement(I,{addGameHandler:function(t,a){return e.addGameHandler(t,a)},collection:t,user:e.props.user})),l.a.createElement("div",{className:"games-container"},n),l.a.createElement(k,{deleteCollection:e.deleteCollection,value:a}))})),l.a.createElement("div",{className:"collections-parent"},l.a.createElement("h1",{className:"collections-title"},this.props.user&&this.props.user.username,"'s collections:"),l.a.createElement("div",{className:"collections-container"},l.a.createElement("label",{className:"mr3",htmlFor:"coll-name"},"Title "),l.a.createElement("input",{className:"mr3",value:this.state.collName,type:"text",name:"collName",id:"coll-name",onChange:function(t){return e.handleChange(t)}}),l.a.createElement("button",{className:"button is-link",name:"create-coll",onClick:this.createCollection},"Create New Collection")),null!==this.collectionList&&this.collectionList)}}]),t}(n.Component),P=(a(28),a(74),function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"loader3"},l.a.createElement("img",{className:"marioSpinner",alt:"",src:"https://media.giphy.com/media/TCoKXVW6cldmw/source.gif",width:"300",height:"300"}))}}]),t}(n.Component)),x=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return null===this.props.user?l.a.createElement("div",null,l.a.createElement(P,null)):l.a.createElement("div",{className:"profCont"},l.a.createElement("img",{className:"profileImg",alt:"profileImg",src:this.props.user.profileImg,style:{width:250}}),l.a.createElement("h1",{className:"profName"},this.props.user.username),l.a.createElement("h4",{className:"profCity"},l.a.createElement("b",null,"Ciudad:")," ",this.props.user.city),l.a.createElement("h4",{className:"profPost"},l.a.createElement("b",null,"Posts:")," 6"),l.a.createElement(O.a,{to:"/editprofile"},l.a.createElement("button",{className:"editBtn"},"Edit Profile")))}}]),t}(n.Component),_=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return void 0===this.props.user?l.a.createElement("div",null,l.a.createElement("h1",null,"Login Failed")):l.a.createElement("div",{className:"profileDad"},l.a.createElement(x,{user:this.props.user}),l.a.createElement(G,{user:this.props.user}))}}]),t}(n.Component),F=(a(76),function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"loader2"},l.a.createElement("img",{className:"spyroSpinner",alt:"",src:"https://media.giphy.com/media/2YlelGeI5ornsi6rbC/giphy.gif",width:"300",height:"300"}),l.a.createElement("img",{alt:"",src:"https://static1.textcraft.net/data1/9/1/91ea2d0771d2393c31669086730cd4dc3ae26c8dda39a3ee5e6b4b0d3255bfef95601890afd80709da39a3ee5e6b4b0d3255bfef95601890afd8070947977b23192646749bbada096162022c.png",width:"300",height:"300"}))}}]),t}(n.Component)),U=(a(78),function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).getGameInfo=function(){console.log(e.props.match.params);var t=e.props.match.params;console.log(t),f.a.get("".concat("https://playemall.herokuapp.com/api","/dbroutes/gameinfo/").concat(t.id)).then(function(t){console.log(t.data),e.setState({gameInfo:t.data})})},e.state={gameInfo:null},e}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getGameInfo()}},{key:"render",value:function(){if(null===this.state.gameInfo)return l.a.createElement("div",null,l.a.createElement(F,null));var e=null;e=void 0!==this.state.gameInfo[0].platforms?this.state.gameInfo[0].platforms.map(function(e){return l.a.createElement("span",null,e.name,", ")}):"not available";var t=null;t=void 0!==this.state.gameInfo[0].genres?this.state.gameInfo[0].genres.map(function(e){return l.a.createElement("span",null,e.name,", ")}):"not available";var a=null;a=void 0!==this.state.gameInfo[0].publishers?this.state.gameInfo[0].publishers.map(function(e){return l.a.createElement("span",null,e.name,", ")}):"not available";var n=null;n=this.state.gameInfo[0].first_release_date?new Date(this.state.gameInfo[0].first_release_date).toLocaleDateString("en-De"):"not available";var o=null;o=void 0!==this.state.gameInfo[0].cover?"//images.igdb.com/igdb/image/upload/t_cover_big/".concat(this.state.gameInfo[0].cover.cloudinary_id,".jpg"):"https://shop.purgatoryresort.com/bundles/spotliowebappfront/purgatoryresort/images/photo_not_available.jpg";var r=null;r=void 0!==this.state.gameInfo[0].screenshots?"//images.igdb.com/igdb/image/upload/t_screenshot_med/".concat(this.state.gameInfo[0].screenshots[0].cloudinary_id,".jpg"):"https://shop.purgatoryresort.com/bundles/spotliowebappfront/purgatoryresort/images/photo_not_available.jpg";var c=null;return c=void 0!==this.state.gameInfo[0].videos?"https://www.youtube.com/embed/".concat(this.state.gameInfo[0].videos[0].video_id):"https://www.youtube.com/embed/tgbNymZ7vqY",l.a.createElement("div",{className:"singleGameCont"},l.a.createElement("img",{className:"coverGameInfo",alt:"cover",src:o}),l.a.createElement("h1",{className:"titleGameInfo"},this.state.gameInfo[0].name),l.a.createElement("p",{className:"genreGameInfo"},l.a.createElement("b",null,"Genre:")," ",t),l.a.createElement("p",{className:"releaseGameInfo"},l.a.createElement("b",null,"Release date:")," ",n),l.a.createElement("p",{className:"platGameInfo"},l.a.createElement("b",null,"Platforms:")," ",e),l.a.createElement("p",{className:"rateGameInfo"},l.a.createElement("b",null,"rating:")," ",this.state.gameInfo[0].total_rating),l.a.createElement("p",{className:"publiGameInfo"},l.a.createElement("b",null,"Publishers:")," ",a),l.a.createElement("p",{className:"pUrlInfo"},l.a.createElement("a",{className:"urlGameInfo",href:this.state.gameInfo[0].url},l.a.createElement("b",null,"Info:"),this.state.gameInfo[0].name,"@IGDB")),l.a.createElement("p",null,l.a.createElement("b",null,"Summary")),l.a.createElement("p",{className:"summaryGameInfo"}," ",this.state.gameInfo[0].summary),l.a.createElement("p",{className:"screenGameInfo"},l.a.createElement("b",null,"Screenshots")),l.a.createElement("img",{className:"screen2GameInfo",alt:"img",src:r}),l.a.createElement("h3",{className:"videoTitleInfo"},l.a.createElement("b",null,"Videos")),l.a.createElement("iframe",{className:"videoGameInfo",title:"view",width:"420",height:"315",src:c}))}}]),t}(n.Component)),L=(a(81),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.username,n=a.state.password,l=a.state.city,o=a.state.photo;a.service.edit(t,n,l,o).then(function(e){a.setState(Object(c.a)({},a.state,{username:"",password:"",city:"",photo:"",redirect:!0}))}).catch(function(e){return console.log(e)})},a.handleChange=function(e){var t=e.target,n=t.name,l=t.value;"photo"===n?a.setState(Object(c.a)({},a.state,{photo:e.target.files[0]})):a.setState(Object(c.a)({},a.state,Object(N.a)({},n,l)))},a.state={username:"",password:"",city:"",photo:"",redirect:!1},a.service=new E,a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return this.state&&this.state.redirect?l.a.createElement(j.a,{to:"/profile"}):(console.log(this.props.user),l.a.createElement("div",null,l.a.createElement("form",{className:"edit-container",onSubmit:this.handleFormSubmit},l.a.createElement("label",{className:"mb3"}," Username:"),l.a.createElement("input",{className:"mb3",type:"text",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)}}),l.a.createElement("label",{className:"mb3"},"Password:"),l.a.createElement("input",{className:"mb3",type:"text",name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}}),l.a.createElement("label",{className:"mb3"},"City:"),l.a.createElement("select",{className:"mb3",name:"city",value:this.state.city,onChange:function(t){return e.handleChange(t)}},l.a.createElement("option",null,"A Coru\xf1a"),l.a.createElement("option",null,"Alava"),l.a.createElement("option",null,"Albacete"),l.a.createElement("option",null,"Alicante"),l.a.createElement("option",null,"Almer\xeda"),l.a.createElement("option",null,"Asturias"),l.a.createElement("option",null,"Avila"),l.a.createElement("option",null,"Badajoz"),l.a.createElement("option",null,"Barcelona"),l.a.createElement("option",null,"Burgos"),l.a.createElement("option",null,"C\xe1ceres"),l.a.createElement("option",null,"C\xe1diz"),l.a.createElement("option",null,"Cantabria"),l.a.createElement("option",null,"Castell\xf3n"),l.a.createElement("option",null,"Ceuta"),l.a.createElement("option",null,"Ciudad Real"),l.a.createElement("option",null,"C\xf3rdoba"),l.a.createElement("option",null,"Cuenca"),l.a.createElement("option",null,"Formentera"),l.a.createElement("option",null,"Girona"),l.a.createElement("option",null,"Granada"),l.a.createElement("option",null,"Guadalajara"),l.a.createElement("option",null,"Guipuzcoa"),l.a.createElement("option",null,"Huelva"),l.a.createElement("option",null,"Huesca"),l.a.createElement("option",null,"Ibiza"),l.a.createElement("option",null,"Ja\xe9n"),l.a.createElement("option",null,"La Rioja"),l.a.createElement("option",null,"Las Palmas de Gran Canaria"),l.a.createElement("option",null,"Le\xf3n"),l.a.createElement("option",null,"L\xe9rida"),l.a.createElement("option",null,"Lugo"),l.a.createElement("option",null,"Madrid"),l.a.createElement("option",null,"M\xe1laga"),l.a.createElement("option",null,"Mallorca"),l.a.createElement("option",null,"Menorca"),l.a.createElement("option",null,"Murcia"),l.a.createElement("option",null,"Navarra"),l.a.createElement("option",null,"Orense"),l.a.createElement("option",null,"Palencia"),l.a.createElement("option",null,"Pontevedra"),l.a.createElement("option",null,"Salamanca"),l.a.createElement("option",null,"Santa Cruz de Tenerife"),l.a.createElement("option",null,"Segovia"),l.a.createElement("option",null,"Sevilla"),l.a.createElement("option",null,"Soria"),l.a.createElement("option",null,"Tarragona"),l.a.createElement("option",null,"Teruel"),l.a.createElement("option",null,"Toledo"),l.a.createElement("option",null,"Valencia"),l.a.createElement("option",null,"Valladolid"),l.a.createElement("option",null,"Vizcaya"),l.a.createElement("option",null,"Zamora"),l.a.createElement("option",null,"Zaragoza")),l.a.createElement("input",{className:"mb3",type:"file",name:"photo",onChange:function(t){return e.handleChange(t)}})," ",l.a.createElement("br",null),l.a.createElement("input",{className:"submit button is-link mb3",type:"submit",value:"Edit"}))))}}]),t}(n.Component));a(16).config();var D=function e(){var t=this;Object(s.a)(this,e),this.dashboardShowPost=function(){return t.service.get("/dashboard").then(function(e){return console.log(e.data),e.data}).catch(function(e){})},this.dashboardWritePost=function(e,a,n,l){var o=new FormData,r={title:e,content:a,price:n,photo:l};return Object.keys(r).forEach(function(e){return o.append(e,r[e])}),console.log(o),t.service.post("/newpost",o,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){console.log("entra por el then del newpost"),console.log(e.data)}).catch(function(e){console.log("entra por el catch del newpost")})},this.dashboardOne=function(e){return t.service.get("/completepost/".concat(e)).then(function(e){return e.data}).catch(function(e){return console.log(e)})};var a=f.a.create({baseURL:"".concat("https://playemall.herokuapp.com/api","/post"),withCredentials:!0});this.service=a},T=(a(83),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){a.service.dashboardShowPost().then(function(e){console.log(e),a.setState(Object(c.a)({},a.state,{posts:e}))})},a.state={posts:null},a.service=new D,a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e="";return null!==this.state.posts&&(console.log(this.props.post),e=this.state.posts.map(function(e){return l.a.createElement("div",{className:"postPrevFlex"},l.a.createElement("div",{className:"postPrevCont"},l.a.createElement("img",{className:"postPrevImg",alt:"imgPostSnippet",src:e.picPath}),l.a.createElement("h1",{className:"postPrevTitle"},e.title),l.a.createElement(O.a,{to:"/completepost/".concat(e._id)},l.a.createElement("button",{className:"postPrevBtn"},"Ver anuncio")),l.a.createElement("hr",null)))})),l.a.createElement("div",{className:"scroll"},l.a.createElement(O.a,{to:"/newpost"},l.a.createElement("button",{className:"postPrevBtnNew"},"Nuevo anuncio")),e)}}]),t}(n.Component)),A=(a(86),function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"loader2"},l.a.createElement("img",{className:"spyroSpinner",alt:"",src:"https://66.media.tumblr.com/622731495fca4c32b5c519f67ac8741a/tumblr_otel24WU2S1vyni53o1_400.gif",width:"350",height:"350"}),l.a.createElement("img",{alt:"",src:"https://static1.textcraft.net/data1/9/1/91ea2d0771d2393c31669086730cd4dc3ae26c8dda39a3ee5e6b4b0d3255bfef95601890afd80709da39a3ee5e6b4b0d3255bfef95601890afd8070947977b23192646749bbada096162022c.png",width:"300",height:"300"}))}}]),t}(n.Component)),H=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){console.log(a.props.match.params.id),a.service.dashboardOne(a.props.match.params.id).then(function(e){console.log(e),a.setState({posts:e},function(){console.log(a.state)})}).catch(console.log)},a.state={posts:null},a.service=new D,a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.state.posts?l.a.createElement("div",{className:"postComCont"},l.a.createElement("h1",{className:"postComTitle"},this.state.posts.title),l.a.createElement("h4",{className:"postComAuthor"},l.a.createElement("b",null,"Autor:")," ",this.state.posts.creatorId.username),l.a.createElement("img",{className:"postComImg",alt:"img",src:this.state.posts.picPath}),l.a.createElement("h4",{className:"postComContent"},this.state.posts.content),l.a.createElement("h4",{className:"postComPrice"},l.a.createElement("b",null,"Precio:")," ",this.state.posts.price," euros"),l.a.createElement(O.a,{className:"postComBtn",to:"/dashboard"},l.a.createElement("button",{className:"postComBtn"},"Back"))):l.a.createElement(A,null)}}]),t}(n.Component),B=(a(89),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.title,n=a.state.content,l=a.state.price,o=a.state.photo;a.service.dashboardWritePost(t,n,l,o).then(function(e){a.setState(Object(c.a)({},a.state,{title:"",content:"",price:"",photo:"",redirect:!0})),a.props.getUser(e)}).catch(function(e){return console.log(e)})},a.handleChange=function(e){var t=e.target,n=t.name,l=t.value;"photo"===n?a.setState(Object(c.a)({},a.state,{photo:e.target.files[0]})):a.setState(Object(c.a)({},a.state,Object(N.a)({},n,l)))},a.state={title:"",content:"",price:"",photo:"",redirect:!1},a.service=new D,a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return this.state&&this.state.redirect?l.a.createElement(j.a,{to:"/dashboard"}):l.a.createElement("div",null,l.a.createElement("form",{className:"signup-container",onSubmit:this.handleFormSubmit},l.a.createElement("img",{className:"pokeJump",alt:"",src:"https://upload.wikimedia.org/wikipedia/commons/5/51/Pokebola-pokeball-png-0.png",width:"100",height:"100"}),l.a.createElement("h1",{className:"editform-title"}," Nuevos anuncios"),l.a.createElement("label",{className:"mb3"},"Title"),l.a.createElement("input",{className:"mb3",type:"text",name:"title",onChange:function(t){return e.handleChange(t)}}),l.a.createElement("label",{className:"mb3"},"Content"),l.a.createElement("input",{className:"mb3",type:"text",name:"content",onChange:function(t){return e.handleChange(t)}}),l.a.createElement("label",{className:"mb3"},"Price"),l.a.createElement("input",{className:"mb3",type:"text",name:"price",onChange:function(t){return e.handleChange(t)}}),l.a.createElement("input",{className:"mb3",type:"file",name:"photo",onChange:function(t){return e.handleChange(t)}})," ",l.a.createElement("br",null),l.a.createElement("input",{className:"submit button is-primary",type:"submit",value:"New Post"})))}}]),t}(n.Component));a(91);a(16).config();var M=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(c.a)({},a.state,Object(N.a)({},n,l)))},a.findHandler=function(){f.a.get("".concat("https://playemall.herokuapp.com/api","/dbroutes/gamesearch/").concat(a.state.searchField)).then(function(e){console.log("findHandler axios then"),a.setState(Object(c.a)({},a.state,{games:Object(w.a)(e.data),deployed:!0}),function(){console.log(this.state.games)})}).catch(function(e){console.log("findHandler axios catch"),console.log(e)})},a.state={searchField:"",games:[],deployed:!1},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t="dropdown";this.state.deployed&&(t="dropdown is-active");var a=[];return this.state.games!==[]&&(a=this.state.games.map(function(e){return console.log(e),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"dropdown-item"},l.a.createElement(O.a,{to:"/gameinfo/".concat(e.id)},l.a.createElement("div",null,l.a.createElement("h4",null,e.name)))),l.a.createElement("hr",{className:"dropdown-divider"}))})),l.a.createElement("div",{className:"gamesearch-container"},l.a.createElement("h1",{className:"gameSearchTitle"},"Game Search"),l.a.createElement("input",{className:"searchBarGame",type:"text",name:"searchField",id:"searchField",placeholder:"enter a title here",onChange:function(t){e.handleChange(t)}}),l.a.createElement("button",{id:"find-button",className:"button is-light",onClick:function(){return e.findHandler()}},"Find!"),l.a.createElement("div",{onClick:function(){e.setState(Object(c.a)({},e.state,{deployed:!e.state.deployed}))},className:t},l.a.createElement("div",{className:"dropdown-trigger"},l.a.createElement("button",{className:"button","aria-haspopup":"true","aria-controls":"dropdown-menu2"},l.a.createElement("span",null,"Results"),l.a.createElement("span",{className:"icon is-small"},l.a.createElement("i",{className:"fas fa-angle-down","aria-hidden":"true"})))),l.a.createElement("div",{className:"dropdown-menu",id:"dropdown-menu2",role:"menu"},l.a.createElement("div",{className:"dropdown-content"},a))))}}]),t}(l.a.Component),R=(a(93),function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).getGameInfo=function(){for(var t=[],a=0;a<5;a++)t.push(Math.floor(8500*Math.random()));e.service.mustPlay(t).then(function(a){e.setState(Object(c.a)({},e.state,{gameInfo:a})),console.log(t),console.log(e.state)})},e.state={gameInfo:null},e.service=new S,e}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getGameInfo()}},{key:"render",value:function(){if(null===this.state.gameInfo)return l.a.createElement("div",null,l.a.createElement(A,null));var e=this.state.gameInfo.map(function(e){var t=null;t=void 0!==e.cover?"//images.igdb.com/igdb/image/upload/t_cover_big/".concat(e.cover.cloudinary_id,".jpg"):"https://shop.purgatoryresort.com/bundles/spotliowebappfront/purgatoryresort/images/photo_not_available.jpg";var a=null;a=void 0!==e.publishers?e.publishers.map(function(e){return l.a.createElement("span",null,e.name,", ")}):"publishers not available";var n=null;return n=void 0!==e.total_rating?(n=e.total_rating).toFixed(1):"-",l.a.createElement("div",{className:"mustCont"},l.a.createElement("img",{className:"mustImg",src:t,alt:"gamecover"}),l.a.createElement("h1",{className:"mustName"},e.name),l.a.createElement("h3",{className:"mustPubli"},a),l.a.createElement("h3",{className:"mustRate"},n))});return l.a.createElement("div",{className:"mustBig"},e)}}]),t}(n.Component)),z=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).Getloggedin=function(){a.auth.loggedin().then(function(e){a.setState(Object(c.a)({},a.state,{loggedInUser:e}))})},a.getTheUser=function(e){a.setState({loggedInUser:e})},a.Getloggout=function(){a.auth.logout().then(function(){return a.setState(Object(c.a)({},a.state,{loggedInUser:null}))})},a.state={loggedInUser:null},a.auth=new E,a.Getloggedin(),a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"App"},l.a.createElement(b,{user:this.state.loggedInUser,logout:this.Getloggout}),l.a.createElement(d.a,null,l.a.createElement(h.a,{exact:!0,path:"/",component:v}),l.a.createElement(h.a,{exact:!0,path:"/gameinfo/:id",render:function(e){return l.a.createElement(U,e)}}),l.a.createElement(h.a,{exact:!0,path:"/",component:v}),l.a.createElement(h.a,{exact:!0,path:"/login",render:function(){return l.a.createElement(C,{getUser:e.getTheUser})}}),l.a.createElement(h.a,{exact:!0,path:"/signup",render:function(){return l.a.createElement(y,{getUser:e.getTheUser})}}),l.a.createElement(h.a,{exact:!0,path:"/profile",render:function(){return l.a.createElement(_,{user:e.state.loggedInUser})}}),l.a.createElement(h.a,{exact:!0,path:"/editprofile",render:function(){return l.a.createElement(L,{user:e.state.loggedInUser})}}),l.a.createElement(h.a,{exact:!0,path:"/dashboard",render:function(){return l.a.createElement(T,{user:e.state.loggedInUser})}}),l.a.createElement(h.a,{exact:!0,path:"/completepost/:id",render:function(t){return l.a.createElement(H,Object.assign({user:e.state.loggedInUser},t))}}),l.a.createElement(h.a,{exact:!0,path:"/newpost",render:function(t){return l.a.createElement(B,Object.assign({user:e.state.loggedInUser},t))}}),l.a.createElement(h.a,{exact:!0,path:"/gamesearch",render:function(t){return l.a.createElement(M,Object.assign({user:e.state.loggedInUser},t))}}),l.a.createElement(h.a,{exact:!0,path:"/mustplay",render:function(t){return l.a.createElement(R,Object.assign({user:e.state.loggedInUser},t))}})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(96);var V=a(101);r.a.render(l.a.createElement(V.a,null,l.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[30,2,1]]]);
//# sourceMappingURL=main.666e24cd.chunk.js.map